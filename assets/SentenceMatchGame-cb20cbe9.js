import{r as s,W as S,a as _,j as t}from"./index-134f4196.js";import{G as y}from"./GamePage-304daae9.js";function G(){const{words:c}=s.useContext(S),m=_(),[r,u]=s.useState([]),[n,f]=s.useState(null),[h,b]=s.useState([]),[o,g]=s.useState(null),[d,w]=s.useState(0);s.useEffect(()=>{c.length>0&&u(i([...c]))},[c]),s.useEffect(()=>{r.length===0&&n&&setTimeout(()=>{m("/game-end",{state:{score:d,fromGame:"/games/sentence-match"}})},1200)},[r,n,m,d]);const i=e=>[...e].sort(()=>Math.random()-.5),x=()=>{if(r.length===0)return;const e=Math.floor(Math.random()*r.length),a=r[e],j=i(c.filter(l=>l.word!==a.word)).slice(0,2),v=i([{word:a.word,correct:!0},...j.map(l=>({word:l.word,correct:!1}))]);f(a),b(v),u(l=>l.filter((E,N)=>N!==e)),g(null)},p=e=>{o||(g(e),e.correct&&w(a=>a+10),setTimeout(()=>{x()},1e3))};return s.useEffect(()=>{r.length>0&&!n&&x()},[r,n]),t.jsx(y,{title:" 转转  砖驻 - Sentence Match",backgroundImage:"/images/backgrounds/sentence-match.jpg",children:t.jsxs("div",{className:"flex flex-col items-center gap-8 mt-8",children:[n&&t.jsxs(t.Fragment,{children:[t.jsx("p",{className:"text-xl font-semibold text-gray-700 mb-4",children:"  砖住专 砖驻 ?"}),t.jsx("div",{className:"text-center bg-white rounded-xl shadow-lg p-6 max-w-xl text-lg font-bold text-blue-700",children:n.sentence.replace(n.word,"______")}),t.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 mt-8",children:h.map((e,a)=>t.jsx("button",{onClick:()=>p(e),className:`py-3 px-6 rounded-full font-bold text-lg transition-all shadow-md ${o?e.correct?"bg-green-400 text-white":e.word===(o==null?void 0:o.word)?"bg-red-400 text-white":"bg-gray-300 text-gray-700":"bg-blue-100 hover:bg-blue-200 text-blue-700"}`,children:e.word},a))})]}),t.jsxs("div",{className:"mt-10 text-lg text-gray-700",children:["拽: ",t.jsx("span",{className:"font-bold text-blue-700",children:d})]})]})})}export{G as default};
